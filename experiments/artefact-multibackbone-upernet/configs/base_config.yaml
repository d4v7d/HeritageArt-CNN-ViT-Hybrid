# POC-5: Base Configuration
# Common settings for all models (ConvNeXt, Swin, CoaT)
# Optimized from POC-4 results

data:
  root: "data/artefact"
  image_size: 512
  train_val_split: 0.8
  binary_mode: true         # Collapse all damage classes to 1
  ignore_index: 255
  num_workers: 4

training:
  batch_size: 4             # Same for fair comparison
  epochs: 60                # Full convergence
  learning_rate: 0.0003     # Optimized from POC-4
  weight_decay: 0.00005
  
  loss:
    type: "dice_focal"
    dice_weight: 0.7        # Favors mIoU
    focal_weight: 0.3
    focal_alpha: 0.25
    focal_gamma: 2.0
  
  optimizer: "adamw"
  
  scheduler:
    type: "cosine"
    warmup_epochs: 8        # Progressive warmup
    min_lr: 0.0000005
  
  checkpointing:
    save_freq: 10           # Every 10 epochs
    save_best: true
    metric: "val_miou"

augmentation:
  train:
    horizontal_flip: 0.5
    vertical_flip: 0.5
    rotate_limit: 20        # Moderate (preserves heritage art)
    brightness_limit: 0.25
    contrast_limit: 0.25
    blur_limit: 4
  
  val:
    # No augmentations for validation

evaluation:
  metrics:
    - "miou"                # Primary metric
    - "mf1"
    - "precision"
    - "recall"
    - "accuracy"
  
  per_class_metrics: true   # IoU/F1 per class (Clean, Damage)
  confusion_matrix: true
  save_visualizations: true
  max_visualizations: 10

seed: 42
device: "cuda"
num_workers: 4              # Dataloader workers
mixed_precision: true       # AMP for faster training
